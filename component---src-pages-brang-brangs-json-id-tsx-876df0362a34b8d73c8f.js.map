{"version":3,"sources":["webpack:///./src/common/header.tsx","webpack:///./src/common/panel.tsx","webpack:///./src/common/brangInfo/index.tsx","webpack:///./src/pages/brang/{brangsJson.id}.tsx","webpack:///./node_modules/react-schemaorg/dist/src/json-ld.js","webpack:///./node_modules/react-schemaorg/dist/src/index.js"],"names":["Header","styles","useStyles","Box","className","headerGap","header","Grid","container","IconButton","href","ChevronLeft","makeStyles","position","top","left","height","width","backgroundImage","theme","colors","headerBackground","Panel","children","Paper","paper","margin","border","borders","tableBorder","backgroundColor","transparentBackground","Body","data","name","description","startTime","endTime","link","tags","location","date","ThemeProvider","muiTheme","direction","item","Typography","variant","moment","format","spacing","map","tag","i","key","color","tagColor","to","locale","week","dow","mapDateForLd","time","text","dateFormat","toISOString","BrangInfo","eventLdDescription","helmetJsonLdProp","doorTime","brangsJson","endDate","isAccessibleForFree","inLanguage","url","about","ldData","Object","defineProperty","exports","value","jsonLdScriptProps","JsonLd","React","options","arguments","length","undefined","type","dangerouslySetInnerHTML","__html","JSON","stringify","safeJsonLdReplacer","space","props","createElement","assign","innerHTML","ESCAPE_ENTITIES","freeze","ESCAPE_REGEX","RegExp","concat","keys","join","ESCAPE_REPLACER","t","_","replace","json_ld_1","enumerable","get"],"mappings":"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","file":"component---src-pages-brang-brangs-json-id-tsx-876df0362a34b8d73c8f.js","sourcesContent":["import { Box, Grid, IconButton, makeStyles } from '@material-ui/core';\nimport { ChevronLeft } from '@material-ui/icons';\nimport React from 'react';\nimport { theme } from './lib/theme';\n\nexport const Header = () => {\n  const styles = useStyles()\n  return (\n    <>\n      <Box className={styles.headerGap}/>\n      <Box className={styles.header}>\n        <Grid container>\n          <IconButton href=\"/\">\n            <ChevronLeft/>\n          </IconButton>\n        </Grid>\n      </Box>\n    </>\n  )\n}\n\nconst useStyles = makeStyles({\n  header: {\n    position: 'fixed',\n    top: '0',\n    left: '0',\n    height: '10%',\n    width: '100%',\n    backgroundImage: theme.colors.headerBackground\n  },\n  headerGap: {\n    height: '10%'\n  }\n})\n","import { makeStyles, Paper } from '@material-ui/core';\nimport React, { PropsWithChildren } from 'react';\nimport { theme } from './lib/theme';\n\nexport const Panel = ({children}: PropsWithChildren<void>) => {\n  const styles = useStyles()\n  return (\n    <Paper className={styles.paper}>\n      {children}\n    </Paper>\n  )\n}\n\nconst useStyles = makeStyles({\n  paper: {\n    margin: \"24px\",\n    border: theme.borders.tableBorder,\n    backgroundColor: theme.colors.transparentBackground\n  }\n})\n","import { Grid, makeStyles, ThemeProvider, Typography } from '@material-ui/core';\nimport { Link } from 'gatsby';\nimport moment from 'moment';\nimport React from 'react';\nimport { Tag } from '../body/tag';\nimport { Header } from '../header';\nimport { DetailedBrangInfo } from '../lib/model';\nimport { muiTheme, theme } from '../lib/theme';\nimport { Panel } from '../panel';\n\ninterface BrangProps {\n  data: DetailedBrangInfo\n}\n\nexport const Body = ({data}: BrangProps) => {\n  const {name, description, startTime, endTime, link, tags, location, date} = data,\n    styles = useStyles();\n\n  return (\n    <ThemeProvider theme={muiTheme}>\n      <Header/>\n      <Grid container direction=\"column\">\n        <Grid item>\n          <Panel>\n            <Typography variant=\"h1\">{name}</Typography>\n            <Typography variant=\"h2\">{moment(date, \"YYYY-MM-DD\").format(\"D MMMM YYYY\")}</Typography> <br/>\n            <Typography variant=\"body2\">Начало в {startTime}</Typography>\n            {!!endTime && <>\n              <br/><Typography variant=\"body2\">\n                Окончание в {endTime}\n              </Typography>\n              </>} <br/>\n            <Typography variant=\"body2\">Место проведения: {location}</Typography> <br/>\n            <Grid container spacing={1}>\n              {tags.map((tag, i) =>\n                  <Grid item key={i}>\n                    <Tag color={theme.colors.tagColor}>{tag}</Tag>\n                  </Grid>\n                )}\n            </Grid>\n          </Panel>\n        </Grid>\n        <Grid item>\n          <Panel>\n            <Typography variant=\"body1\">{description}</Typography><br/>\n            <Typography variant=\"body2\">\n              <Link to={link}>Сылка на мероприятие</Link>\n            </Typography>\n          </Panel>\n        </Grid>\n      </Grid>\n    </ThemeProvider>\n  )\n}\n\nconst useStyles = makeStyles({\n  name: {\n\n  }\n})\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport { BrangQuery, QueryData } from \"../../common/lib/model\"\nimport { Body } from \"../../common/brangInfo\"\nimport { SocialEvent } from \"schema-dts\";\nimport { helmetJsonLdProp } from \"react-schemaorg\";\nimport '../styles.css'\nimport moment from \"moment\";\nimport { Head } from \"../../common/seo\";\n\nmoment.locale('ru', {\n  week: {\n    dow: 1,\n  }\n})\n\nconst mapDateForLd = (date: string, time: string | null) => {\n  const dateFormat = \"YYYY-MM-DD\",\n   text = time? date + \" \" + time: date,\n   m = time? moment(text, dateFormat + \" hh:mm\") : moment(text, dateFormat)\n  return m.toISOString(true)\n}\n\nconst BrangInfo = ({ data }: QueryData<BrangQuery>) => {\n  const eventLdDescription = helmetJsonLdProp<SocialEvent>({\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"SocialEvent\",\n    doorTime: mapDateForLd(data.brangsJson.date, data.brangsJson.startTime),\n    endDate: mapDateForLd(data.brangsJson.date, data.brangsJson.endTime || data.brangsJson.startTime),\n    isAccessibleForFree: true,\n    location: data.brangsJson.location,\n    inLanguage: \"Russian\",\n    description: data.brangsJson.description,\n    url: data.brangsJson.link,\n    name: data.brangsJson.name,\n    about: data.brangsJson.tags\n  })\n\n\n  return (\n    <>\n      <Head ldData={eventLdDescription}/>\n      <Body data={data.brangsJson}/>\n    </>\n  );\n}\n\nexport const query = graphql`\n  query getBarngInfo($id: String) {\n    brangsJson(id: {eq: $id}) {\n      date\n      description\n      id\n      link\n      location\n      name\n      startTime\n      tags\n    }\n  }\n`\n\nexport default BrangInfo\n","\"use strict\";\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.helmetJsonLdProp = exports.jsonLdScriptProps = exports.JsonLd = void 0;\n\nvar React = require(\"react\");\n\nfunction JsonLd(props) {\n  return React.createElement(\"script\", Object.assign({}, jsonLdScriptProps(props.item, props)));\n}\n\nexports.JsonLd = JsonLd;\n\nfunction jsonLdScriptProps(item) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return {\n    type: \"application/ld+json\",\n    dangerouslySetInnerHTML: {\n      __html: JSON.stringify(item, safeJsonLdReplacer, options.space)\n    }\n  };\n}\n\nexports.jsonLdScriptProps = jsonLdScriptProps;\n\nfunction helmetJsonLdProp(item) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return {\n    type: \"application/ld+json\",\n    innerHTML: JSON.stringify(item, safeJsonLdReplacer, options.space)\n  };\n}\n\nexports.helmetJsonLdProp = helmetJsonLdProp;\nvar ESCAPE_ENTITIES = Object.freeze({\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&apos;\"\n});\nvar ESCAPE_REGEX = new RegExp(\"[\".concat(Object.keys(ESCAPE_ENTITIES).join(\"\"), \"]\"), \"g\");\n\nvar ESCAPE_REPLACER = function ESCAPE_REPLACER(t) {\n  return ESCAPE_ENTITIES[t];\n};\n/**\n * A replacer for JSON.stringify to strip JSON-LD of illegal HTML entities\n * per https://www.w3.org/TR/json-ld11/#restrictions-for-contents-of-json-ld-script-elements\n */\n\n\nvar safeJsonLdReplacer = function () {\n  // Replace per https://www.w3.org/TR/json-ld11/#restrictions-for-contents-of-json-ld-script-elements\n  // Solution from https://stackoverflow.com/a/5499821/864313\n  return function (_, value) {\n    switch (typeof value) {\n      case \"object\":\n        // Omit null values.\n        if (value === null) {\n          return undefined;\n        }\n\n        return value;\n      // JSON.stringify will recursively call replacer.\n\n      case \"number\":\n      case \"boolean\":\n      case \"bigint\":\n        return value;\n      // These values are not risky.\n\n      case \"string\":\n        return value.replace(ESCAPE_REGEX, ESCAPE_REPLACER);\n\n      default:\n        {\n          // We shouldn't expect other types.\n          isNever(value); // JSON.stringify will remove this element.\n\n          return undefined;\n        }\n    }\n  };\n}(); // Utility: Assert never\n\n\nfunction isNever(_) {}","\"use strict\";\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.jsonLdScriptProps = exports.JsonLd = exports.helmetJsonLdProp = void 0;\n\nvar json_ld_1 = require(\"./json-ld\");\n\nObject.defineProperty(exports, \"helmetJsonLdProp\", {\n  enumerable: true,\n  get: function get() {\n    return json_ld_1.helmetJsonLdProp;\n  }\n});\nObject.defineProperty(exports, \"JsonLd\", {\n  enumerable: true,\n  get: function get() {\n    return json_ld_1.JsonLd;\n  }\n});\nObject.defineProperty(exports, \"jsonLdScriptProps\", {\n  enumerable: true,\n  get: function get() {\n    return json_ld_1.jsonLdScriptProps;\n  }\n});"],"sourceRoot":""}