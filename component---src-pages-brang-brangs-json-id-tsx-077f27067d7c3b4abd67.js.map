{"version":3,"sources":["webpack:///./src/common/header.tsx","webpack:///./src/common/brangInfo/index.tsx","webpack:///./src/pages/brang/{brangsJson.id}.tsx","webpack:///./src/common/panel.tsx","webpack:///./node_modules/react-schemaorg/dist/src/json-ld.js","webpack:///./node_modules/react-schemaorg/dist/src/index.js"],"names":["Header","styles","useStyles","className","headerGap","header","container","href","makeStyles","position","top","left","height","width","backgroundImage","theme","colors","headerBackground","Body","data","name","description","startTime","endTime","link","tags","location","date","ThemeProvider","muiTheme","Grid","direction","item","Typography","variant","mainText","secondaryText","moment","format","spacing","map","tag","i","key","classes","box","muiStyles","fontSize","lineHeight","color","disabledText","marginBottom","backgroundColor","attention","locale","week","dow","mapDateForLd","time","text","dateFormat","toISOString","BrangInfo","eventLdDescription","helmetJsonLdProp","doorTime","brangsJson","endDate","isAccessibleForFree","inLanguage","url","about","ldData","Panel","children","clsx","paper","margin","border","borders","tableBorder","transparentBackground","Object","defineProperty","exports","value","jsonLdScriptProps","JsonLd","React","options","arguments","length","undefined","type","dangerouslySetInnerHTML","__html","JSON","stringify","safeJsonLdReplacer","space","props","createElement","assign","innerHTML","ESCAPE_ENTITIES","freeze","ESCAPE_REGEX","RegExp","concat","keys","join","ESCAPE_REPLACER","t","_","replace","json_ld_1","enumerable","get"],"mappings":"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","file":"component---src-pages-brang-brangs-json-id-tsx-077f27067d7c3b4abd67.js","sourcesContent":["import { Box, Grid, IconButton, makeStyles } from '@material-ui/core';\r\nimport { ChevronLeft } from '@material-ui/icons';\r\nimport React from 'react';\r\nimport { theme } from './lib/theme';\r\n\r\nexport const Header = () => {\r\n  const styles = useStyles()\r\n  return (\r\n    <>\r\n      <Box className={styles.headerGap}/>\r\n      <Box className={styles.header}>\r\n        <Grid container>\r\n          <IconButton href=\"/\">\r\n            <ChevronLeft/>\r\n          </IconButton>\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  header: {\r\n    position: 'fixed',\r\n    top: '0',\r\n    left: '0',\r\n    height: '10%',\r\n    width: '100%',\r\n    backgroundImage: theme.colors.headerBackground\r\n  },\r\n  headerGap: {\r\n    height: '10%'\r\n  }\r\n})\r\n","import { Grid, makeStyles, ThemeProvider, Typography } from '@material-ui/core';\nimport { Link } from 'gatsby';\nimport moment from 'moment';\nimport React from 'react';\nimport { Tag } from '../body/tag';\nimport { Header } from '../header';\nimport { DetailedBrangInfo } from '../lib/model';\nimport { muiTheme, theme } from '../lib/theme';\nimport { Panel } from '../panel';\n\ninterface BrangProps {\n  data: DetailedBrangInfo\n}\n\nexport const Body = ({data}: BrangProps) => {\n  const {name, description, startTime, endTime, link, tags, location, date} = data,\n    styles = useStyles();\n\n  return (\n    <ThemeProvider theme={muiTheme}>\n      <Header/>\n      <Grid container direction=\"column\">\n        <Grid item>\n          <Panel>\n            <Typography variant=\"h1\" className={styles.mainText}>{name}</Typography>\n            <Typography variant=\"h2\" className={styles.secondaryText}>{moment(date, \"YYYY-MM-DD\").format(\"D MMMM YYYY\")}<br/>\n                Начало в {startTime}\n                {!!endTime && <>\n                  <br/>\n                    Окончание в {endTime}\n                  </>} <br/>\n                Место проведения: {location}<br/>\n            </Typography>\n            <Grid container spacing={1}>\n              {tags.map((tag, i) =>\n                  <Grid item key={i}>\n                    <Tag>{tag}</Tag>\n                  </Grid>\n                )}\n            </Grid><br/>\n            <a href={link}>\n              <Tag classes={{box: styles.link}}>\n                <Typography variant=\"body2\">\n                  Сылка на мероприятие\n                </Typography>\n              </Tag>\n            </a>\n          </Panel>\n        </Grid>\n        <Grid item>\n          <Panel>\n            <Typography variant=\"body1\">{description}</Typography><br/>\n          </Panel>\n        </Grid>\n      </Grid>\n    </ThemeProvider>\n  )\n}\n\nconst useStyles = makeStyles(muiStyles => ({\n  mainText: {\n    fontSize: \"34px\",\n    lineHeight: \"40px\"\n  },\n  secondaryText: {\n    fontSize: \"16px\",\n    lineHeight: \"1.3\",\n    color: theme.colors.disabledText,\n    marginBottom: '10px'\n  },\n  link: {\n    backgroundColor: theme.colors.attention,\n    width: 'fit-content',\n  }\n}))\n","import React from \"react\"\r\nimport { graphql } from \"gatsby\"\r\nimport { BrangQuery, QueryData } from \"../../common/lib/model\"\r\nimport { Body } from \"../../common/brangInfo\"\r\nimport { SocialEvent } from \"schema-dts\";\r\nimport { helmetJsonLdProp } from \"react-schemaorg\";\r\nimport '../styles.css'\r\nimport moment from \"moment\";\r\nimport { Head } from \"../../common/seo\";\r\n\r\nmoment.locale('ru', {\r\n  week: {\r\n    dow: 1,\r\n  }\r\n})\r\n\r\nconst mapDateForLd = (date: string, time: string | null) => {\r\n  const dateFormat = \"YYYY-MM-DD\",\r\n   text = time? date + \" \" + time: date,\r\n   m = time? moment(text, dateFormat + \" hh:mm\") : moment(text, dateFormat)\r\n  return m.toISOString(true)\r\n}\r\n\r\nconst BrangInfo = ({ data }: QueryData<BrangQuery, never>) => {\r\n  const eventLdDescription = helmetJsonLdProp<SocialEvent>({\r\n    \"@context\": \"https://schema.org\",\r\n    \"@type\": \"SocialEvent\",\r\n    doorTime: mapDateForLd(data.brangsJson.date, data.brangsJson.startTime),\r\n    endDate: mapDateForLd(data.brangsJson.date, data.brangsJson.endTime || data.brangsJson.startTime),\r\n    isAccessibleForFree: true,\r\n    location: data.brangsJson.location,\r\n    inLanguage: \"ru\",\r\n    description: data.brangsJson.description,\r\n    url: data.brangsJson.link,\r\n    name: data.brangsJson.name,\r\n    about: data.brangsJson.tags\r\n  })\r\n\r\n\r\n  return (\r\n    <>\r\n      <Head ldData={eventLdDescription}/>\r\n      <Body data={data.brangsJson}/>\r\n    </>\r\n  );\r\n}\r\n\r\nexport const query = graphql`\r\n  query getBarngInfo($id: String) {\r\n    brangsJson(id: {eq: $id}) {\r\n      date\r\n      description\r\n      id\r\n      link\r\n      location\r\n      name\r\n      startTime\r\n      tags\r\n    }\r\n  }\r\n`\r\n\r\nexport default BrangInfo\r\n","import { makeStyles, Paper } from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport React, { PropsWithChildren } from 'react';\r\nimport { theme } from './lib/theme';\r\n\r\ninterface PanelProps {\r\n  className?: string\r\n}\r\n\r\nexport const Panel = ({children, className}: PropsWithChildren<PanelProps>) => {\r\n  const styles = useStyles()\r\n  return (\r\n    <Paper className={clsx(styles.paper, className)}>\r\n      {children}\r\n    </Paper>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  paper: {\r\n    margin: \"24px\",\r\n    border: theme.borders.tableBorder,\r\n    backgroundColor: theme.colors.transparentBackground\r\n  }\r\n})\r\n","\"use strict\";\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.helmetJsonLdProp = exports.jsonLdScriptProps = exports.JsonLd = void 0;\n\nvar React = require(\"react\");\n\nfunction JsonLd(props) {\n  return React.createElement(\"script\", Object.assign({}, jsonLdScriptProps(props.item, props)));\n}\n\nexports.JsonLd = JsonLd;\n\nfunction jsonLdScriptProps(item) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return {\n    type: \"application/ld+json\",\n    dangerouslySetInnerHTML: {\n      __html: JSON.stringify(item, safeJsonLdReplacer, options.space)\n    }\n  };\n}\n\nexports.jsonLdScriptProps = jsonLdScriptProps;\n\nfunction helmetJsonLdProp(item) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return {\n    type: \"application/ld+json\",\n    innerHTML: JSON.stringify(item, safeJsonLdReplacer, options.space)\n  };\n}\n\nexports.helmetJsonLdProp = helmetJsonLdProp;\nvar ESCAPE_ENTITIES = Object.freeze({\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&apos;\"\n});\nvar ESCAPE_REGEX = new RegExp(\"[\".concat(Object.keys(ESCAPE_ENTITIES).join(\"\"), \"]\"), \"g\");\n\nvar ESCAPE_REPLACER = function ESCAPE_REPLACER(t) {\n  return ESCAPE_ENTITIES[t];\n};\n/**\n * A replacer for JSON.stringify to strip JSON-LD of illegal HTML entities\n * per https://www.w3.org/TR/json-ld11/#restrictions-for-contents-of-json-ld-script-elements\n */\n\n\nvar safeJsonLdReplacer = function () {\n  // Replace per https://www.w3.org/TR/json-ld11/#restrictions-for-contents-of-json-ld-script-elements\n  // Solution from https://stackoverflow.com/a/5499821/864313\n  return function (_, value) {\n    switch (typeof value) {\n      case \"object\":\n        // Omit null values.\n        if (value === null) {\n          return undefined;\n        }\n\n        return value;\n      // JSON.stringify will recursively call replacer.\n\n      case \"number\":\n      case \"boolean\":\n      case \"bigint\":\n        return value;\n      // These values are not risky.\n\n      case \"string\":\n        return value.replace(ESCAPE_REGEX, ESCAPE_REPLACER);\n\n      default:\n        {\n          // We shouldn't expect other types.\n          isNever(value); // JSON.stringify will remove this element.\n\n          return undefined;\n        }\n    }\n  };\n}(); // Utility: Assert never\n\n\nfunction isNever(_) {}","\"use strict\";\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.jsonLdScriptProps = exports.JsonLd = exports.helmetJsonLdProp = void 0;\n\nvar json_ld_1 = require(\"./json-ld\");\n\nObject.defineProperty(exports, \"helmetJsonLdProp\", {\n  enumerable: true,\n  get: function get() {\n    return json_ld_1.helmetJsonLdProp;\n  }\n});\nObject.defineProperty(exports, \"JsonLd\", {\n  enumerable: true,\n  get: function get() {\n    return json_ld_1.JsonLd;\n  }\n});\nObject.defineProperty(exports, \"jsonLdScriptProps\", {\n  enumerable: true,\n  get: function get() {\n    return json_ld_1.jsonLdScriptProps;\n  }\n});"],"sourceRoot":""}