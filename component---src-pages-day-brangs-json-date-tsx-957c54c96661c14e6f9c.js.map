{"version":3,"sources":["webpack:///./src/common/header.tsx","webpack:///./src/common/panel.tsx","webpack:///./src/common/dayInfo/index.tsx","webpack:///./src/pages/day/{brangsJson.date}.tsx"],"names":["Header","styles","useStyles","className","headerGap","header","container","href","makeStyles","position","top","left","height","width","backgroundImage","theme","colors","headerBackground","Panel","children","clsx","paper","margin","border","borders","tableBorder","backgroundColor","transparentBackground","Body","day","brangs","selectedCategories","categories","selectCategories","ThemeProvider","muiTheme","Grid","direction","spacing","alignItems","item","justifyContent","Typography","moment","format","changeSelectedCategories","map","brang","i","key","brangPanel","wrap","xs","to","id","variant","name","time","startTime","tags","tag","fontSize","padding","lineHeight","locale","week","dow","Day","data","params","useState","selected","setSelected","allBrangsJson","nodes","filter","b","length","t","includes","date","allTagsJson"],"mappings":"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","file":"component---src-pages-day-brangs-json-date-tsx-957c54c96661c14e6f9c.js","sourcesContent":["import { Box, Grid, IconButton, makeStyles } from '@material-ui/core';\r\nimport { ChevronLeft } from '@material-ui/icons';\r\nimport React from 'react';\r\nimport { theme } from './lib/theme';\r\n\r\nexport const Header = () => {\r\n  const styles = useStyles()\r\n  return (\r\n    <>\r\n      <Box className={styles.headerGap}/>\r\n      <Box className={styles.header}>\r\n        <Grid container>\r\n          <IconButton href=\"/\">\r\n            <ChevronLeft/>\r\n          </IconButton>\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  header: {\r\n    position: 'fixed',\r\n    top: '0',\r\n    left: '0',\r\n    height: '10%',\r\n    width: '100%',\r\n    backgroundImage: theme.colors.headerBackground\r\n  },\r\n  headerGap: {\r\n    height: '10%'\r\n  }\r\n})\r\n","import { makeStyles, Paper } from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport React, { PropsWithChildren } from 'react';\r\nimport { theme } from './lib/theme';\r\n\r\ninterface PanelProps {\r\n  className?: string\r\n}\r\n\r\nexport const Panel = ({children, className}: PropsWithChildren<PanelProps>) => {\r\n  const styles = useStyles()\r\n  return (\r\n    <Paper className={clsx(styles.paper, className)}>\r\n      {children}\r\n    </Paper>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  paper: {\r\n    margin: \"24px\",\r\n    border: theme.borders.tableBorder,\r\n    backgroundColor: theme.colors.transparentBackground\r\n  }\r\n})\r\n","import { Grid, makeStyles, ThemeProvider, Typography } from \"@material-ui/core\";\r\nimport { Link } from \"gatsby\";\r\nimport moment from \"moment\";\r\nimport React from \"react\";\r\nimport { CategorySelector } from \"../body/categorySelector\";\r\nimport { Tag } from \"../body/tag\";\r\nimport { Header } from \"../header\";\r\nimport { BrangDayInfo } from \"../lib/model\";\r\nimport { muiTheme } from \"../lib/theme\";\r\nimport { Panel } from \"../panel\";\r\n\r\ninterface BodyProps {\r\n  day: string\r\n  brangs: BrangDayInfo[],\r\n  categories: string[],\r\n  selectedCategories: string[],\r\n  selectCategories: (selected: string[]) => void\r\n}\r\n\r\nexport const Body = ({day, brangs, selectedCategories, categories, selectCategories}: BodyProps) => {\r\n  const styles = useStyles();\r\n  return (\r\n    <ThemeProvider theme={muiTheme}>\r\n      <Header/>\r\n      <Grid container direction=\"column\" spacing={3} alignItems=\"stretch\">\r\n        <Grid item>\r\n          <Panel>\r\n            <Grid container direction=\"column\" spacing={1} alignItems=\"stretch\">\r\n              <Grid item container justifyContent=\"center\">\r\n                <Typography className={styles.day}>\r\n                  {moment(day, \"YYYY-MM-DD\").format(\"D MMMM YYYY\")}\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <CategorySelector\r\n                  categories={categories}\r\n                  selectedCategories={selectedCategories}\r\n                  changeSelectedCategories={selectCategories}/>\r\n              </Grid>\r\n            </Grid>\r\n          </Panel>\r\n        </Grid>\r\n        {\r\n          brangs.map((brang, i) => (\r\n            <Grid item key={i}>\r\n              <Panel className={styles.brangPanel}>\r\n                <Grid container justifyContent=\"space-between\" wrap=\"nowrap\" alignItems=\"baseline\">\r\n                  <Grid item xs={5}>\r\n                    <Link to={`/brang/${brang.id}`}>\r\n                      <Typography variant=\"h2\" className={styles.name}>{brang.name}</Typography>\r\n                    </Link>\r\n                  </Grid>\r\n                  <Grid item xs={3}>\r\n                    <Typography variant=\"h2\" className={styles.time}>\r\n                      {brang.startTime}\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid item container justifyContent=\"center\" xs={4}>\r\n                    {brang.tags.map((tag, i) => (\r\n                      <Grid item key={i}>\r\n                        <Tag>\r\n                          {tag}\r\n                        </Tag>\r\n                      </Grid>\r\n                    ))}\r\n                  </Grid>\r\n                </Grid>\r\n              </Panel>\r\n            </Grid>\r\n          ))\r\n        }\r\n      </Grid>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  name: {\r\n    fontSize: \"20px\",\r\n  },\r\n  time: {\r\n    fontSize: \"20px\",\r\n  },\r\n  brangPanel: {\r\n    padding: \"10px\"\r\n  },\r\n  day: {\r\n    fontSize: \"34px\",\r\n    lineHeight: \"40px\"\r\n  }\r\n})\r\n","import { graphql } from 'gatsby';\r\nimport moment from 'moment';\r\nimport React from 'react';\r\nimport { useState } from 'react';\r\nimport { Body } from '../../common/dayInfo';\r\nimport { DateParam, DayQuery, QueryData } from '../../common/lib/model';\r\nimport { Head } from '../../common/seo';\r\nimport '../styles.css'\r\n\r\nmoment.locale('ru', {\r\n  week: {\r\n    dow: 1,\r\n  }\r\n})\r\n\r\nexport const query = graphql`\r\n  query dayQuery($date: Date) {\r\n    allBrangsJson(filter: {date: {eq: $date}}) {\r\n      nodes {\r\n        id\r\n        name\r\n        startTime\r\n        tags\r\n      }\r\n    }\r\n    allTagsJson {\r\n      nodes {\r\n        name\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nconst Day = ({data, params}: QueryData<DayQuery, DateParam>) => {\r\n  const [selected, setSelected] = useState([] as string[]),\r\n    brangs = data.allBrangsJson.nodes.filter(b =>\r\n      selected.length == 0 || b.tags.filter(t => selected.includes(t)).length > 0)\r\n\r\n  return (\r\n    <>\r\n      <Head/>\r\n      <Body\r\n       day={params.date}\r\n       brangs={brangs}\r\n       categories={data.allTagsJson.nodes.map(tag => tag.name)}\r\n       selectedCategories={selected}\r\n       selectCategories={setSelected}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Day;\r\n"],"sourceRoot":""}